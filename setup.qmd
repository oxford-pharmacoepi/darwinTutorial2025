# Set up

There are two ways to run the code and follow the presentations and the practical:

- **Posit cloud**, we have created a space for you with all the packages installed and the synthetic data downloaded. Note you will need to create a free account. Follow this [link]() to access it.

- **Run code locally** follow the above instructions to set up your environment.

## Run locally instructions

### 0. The basis

- You will need R (>= 4.1.0) and RStudio installed.
- Create a new project.

### 1. Install packages

- Run the following code to install all the required packages:

```{r, eval=FALSE}
install.packages("pak")
pak::pkg_install(c(
  "duckdb", "omopgenerics", "CDMConnector", "CodelistGenerator", 
  "CohortCharacteristics", "TreatmentPatterns", "visOmopResults", "gt", 
  "reactable", "ggplot2", "plotly", "officer", "flextable", "DiagrammeR",
  "DiagrammeRsvg", "grid", "png", "rsvg", "lubridate"
))
```

### 2. Mock data

In this step we will check that you can create a reference to the mock data, we will use **GiBleed** for the three presentations.

```{r}
CDMConnector::requireEunomia(datasetName = "GiBleed")
```

```{r, message=TRUE}
library(duckdb)
library(CDMConnector)

datasetName <- "GiBleed"
requireEunomia(datasetName = datasetName)
con <- dbConnect(drv = duckdb(dbdir = eunomiaDir(datasetName = datasetName)))
cdm <- cdmFromCon(con = con, cdmSchema = "main", writeSchema = "main", cdmName = datasetName)
cdm
```

If it worked you can now disconnect from the `cdm_reference` and you are **ready** ðŸŽ‰.

```{r}
cdmDisconnect(cdm = cdm)
```
