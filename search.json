[
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#cohortcharacteristics",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#cohortcharacteristics",
    "title": "CohortCharacteristics",
    "section": "CohortCharacteristics",
    "text": "CohortCharacteristics"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#context",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#context",
    "title": "CohortCharacteristics",
    "section": "Context",
    "text": "Context\n\nThis package aims to standardise and provide the tools to conduct Characterisation studies as of the Darwin-EU Catalogue of Standard Analytics."
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#package-overview",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#package-overview",
    "title": "CohortCharacteristics",
    "section": "Package overview",
    "text": "Package overview\n\nv0.3.0 on cran\npackage website"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#functions",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#functions",
    "title": "CohortCharacteristics",
    "section": "Functions",
    "text": "Functions\n\nsummariseCohortCount\nsummariseCohortAttrition\nsummariseCharacteristics\nsummariseLargeScaleCharacteristics\nsummariseCohortOverlap\nsummariseCohortTiming"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#workflow",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#workflow",
    "title": "CohortCharacteristics",
    "section": "Workflow",
    "text": "Workflow\nWe have three types of functions:\n\nsummarise: these functions produce an standardised output to summarise a cohort. This standard output is called summarised_result.\nplot: these functions produce plots (currently, only ggplot, but working to implement plotly) from a summarised_result object.\ntable: these functions produce tables (gt and flextable) from a summarised_result object.\n\n\n\nresult &lt;- summariseXXX(...)\n\n\n\n\ntableXXX(result)\n\n\n\n\nplotXXX(result)\n\n\n\n\n\n\n\n\nflowchart LR\n  A[summarise function ] --&gt; B[Plot function ]\n  A --&gt; C[Table function ]"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#create-the-cdm-reference",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#create-the-cdm-reference",
    "title": "CohortCharacteristics",
    "section": "Create the cdm reference",
    "text": "Create the cdm reference\n\nlibrary(duckdb)\nlibrary(CDMConnector)\nlibrary(dplyr)\nlibrary(here)\n\nrequireEunomia()\n\n\nDownload completed!\n\ndb &lt;- dbConnect(duckdb(), dbdir = eunomiaDir())\ncdm &lt;- cdmFromCon(con = db, cdmSchema = \"main\", writeSchema = \"main\")"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#summarisecohortattrition",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#summarisecohortattrition",
    "title": "CohortCharacteristics",
    "section": "summariseCohortAttrition",
    "text": "summariseCohortAttrition\nLet’s use our prior drug cohorts:\n\nlibrary(CodelistGenerator)\nlibrary(DrugUtilisation)\ncodelist &lt;- getDrugIngredientCodes(cdm = cdm, name = \"acetaminophen\", nameStyle = \"{concept_name}\")\ncdm &lt;- generateDrugUtilisationCohortSet(\n  cdm = cdm,\n  name = \"dus_cohort\",\n  conceptSet = codelist,\n  gapEra = 30\n)\ncdm$dus_cohort &lt;- cdm$dus_cohort |&gt;\n  requirePriorDrugWashout(days = 180) |&gt;\n  requireObservationBeforeDrug(days = 180) |&gt;\n  requireDrugInDateRange(dateRange = as.Date(c(\"2000-01-01\", \"2022-12-31\")))"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#summarisecohortattrition-1",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#summarisecohortattrition-1",
    "title": "CohortCharacteristics",
    "section": "summariseCohortAttrition",
    "text": "summariseCohortAttrition\n\nsummariseCohortAttrition extracts the data from attrition(cdm$dus_cohort) in a standard format:\n\n\n\nlibrary(CohortCharacteristics)\nresult &lt;- summariseCohortAttrition(cdm$dus_cohort)\nresult |&gt;\n  glimpse()\n\nRows: 20\nColumns: 13\n$ result_id        &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1\n$ cdm_name         &lt;chr&gt; \"Synthea\", \"Synthea\", \"Synthea\", \"Synthea\", \"Synthea\", \"Synthea\", \"Synthea\", \"Synthea\", \"Synt…\n$ group_name       &lt;chr&gt; \"cohort_name\", \"cohort_name\", \"cohort_name\", \"cohort_name\", \"cohort_name\", \"cohort_name\", \"co…\n$ group_level      &lt;chr&gt; \"acetaminophen\", \"acetaminophen\", \"acetaminophen\", \"acetaminophen\", \"acetaminophen\", \"acetami…\n$ strata_name      &lt;chr&gt; \"reason\", \"reason\", \"reason\", \"reason\", \"reason\", \"reason\", \"reason\", \"reason\", \"reason\", \"re…\n$ strata_level     &lt;chr&gt; \"Initial qualifying events\", \"Initial qualifying events\", \"Initial qualifying events\", \"Initi…\n$ variable_name    &lt;chr&gt; \"number_records\", \"number_subjects\", \"excluded_records\", \"excluded_subjects\", \"number_records…\n$ variable_level   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA\n$ estimate_name    &lt;chr&gt; \"count\", \"count\", \"count\", \"count\", \"count\", \"count\", \"count\", \"count\", \"count\", \"count\", \"co…\n$ estimate_type    &lt;chr&gt; \"integer\", \"integer\", \"integer\", \"integer\", \"integer\", \"integer\", \"integer\", \"integer\", \"inte…\n$ estimate_value   &lt;chr&gt; \"13908\", \"2679\", \"0\", \"0\", \"13860\", \"2679\", \"48\", \"0\", \"13506\", \"2679\", \"354\", \"0\", \"13361\", …\n$ additional_name  &lt;chr&gt; \"reason_id\", \"reason_id\", \"reason_id\", \"reason_id\", \"reason_id\", \"reason_id\", \"reason_id\", \"r…\n$ additional_level &lt;chr&gt; \"1\", \"1\", \"1\", \"1\", \"2\", \"2\", \"2\", \"2\", \"3\", \"3\", \"3\", \"3\", \"4\", \"4\", \"4\", \"4\", \"5\", \"5\", \"5\"…\n\n\n\n\n\nsettings(result) |&gt;\n  glimpse()\n\nRows: 1\nColumns: 13\n$ result_id              &lt;int&gt; 1\n$ result_type            &lt;chr&gt; \"summarise_cohort_attrition\"\n$ package_name           &lt;chr&gt; \"CohortCharacteristics\"\n$ package_version        &lt;chr&gt; \"1.0.0\"\n$ group                  &lt;chr&gt; \"cohort_name\"\n$ strata                 &lt;chr&gt; \"reason\"\n$ additional             &lt;chr&gt; \"reason_id\"\n$ min_cell_count         &lt;chr&gt; \"0\"\n$ cohort_definition_id   &lt;chr&gt; \"1\"\n$ gap_era                &lt;chr&gt; \"30\"\n$ prior_drug_observation &lt;chr&gt; \"180\"\n$ prior_use_washout      &lt;chr&gt; \"180\"\n$ table_name             &lt;chr&gt; \"dus_cohort\""
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#brief-mention-of-summaried_result",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#brief-mention-of-summaried_result",
    "title": "CohortCharacteristics",
    "section": "brief mention of summaried_result",
    "text": "brief mention of summaried_result\n object consist on the main table that we have seen + a table of settings.\n\nbind Join multiple results objects.\nsettings Read the settings of the result object.\nsuppress Suppress the results to counts less than a certain number.\nexportSummarisedResult Export the result object to a csv file.\nimportSummarisedResult Import a result object from a csv file."
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#tablecohortattrition",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#tablecohortattrition",
    "title": "CohortCharacteristics",
    "section": "tableCohortAttrition",
    "text": "tableCohortAttrition\n\n\n\ntableCohortAttrition(result)\n\n\n\n\n\n\n\n\n\n\n\n\n\nReason\n\nVariable name\n\n\n\nnumber_records\nnumber_subjects\nexcluded_records\nexcluded_subjects\n\n\n\n\nSynthea; acetaminophen\n\n\nInitial qualifying events\n13,908\n2,679\n0\n0\n\n\nCollapse records separated by 30 or less days\n13,860\n2,679\n48\n0\n\n\nrequire prior use days of 180 days\n13,506\n2,679\n354\n0\n\n\nrequire prior observation of 180 days\n13,361\n2,677\n145\n2\n\n\nrequire cohort_start_date between 2000-01-01 to 2022-12-31\n3,433\n1,978\n9,928\n699"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#export-the-gt-table",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#export-the-gt-table",
    "title": "CohortCharacteristics",
    "section": "Export the gt table",
    "text": "Export the gt table\ngt tables can easily be exported:\n\ntab &lt;- tableCohortAttrition(result)\ngt::gtsave(tab, \"myTable.docx/html/pdf/png\")"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#flextable-is-also-supported",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#flextable-is-also-supported",
    "title": "CohortCharacteristics",
    "section": "flextable is also supported",
    "text": "flextable is also supported\n\ntableCohortAttrition(result, type = \"flextable\")\n\n\n\n\n\n\nReason\nVariable name\n\n\nnumber_records\nnumber_subjects\nexcluded_records\nexcluded_subjects\n\n\n\nSynthea; acetaminophen\n\nInitial qualifying events\n13,908\n2,679\n0\n0\n\n\nCollapse records separated by 30 or less days\n13,860\n2,679\n48\n0\n\n\nrequire prior use days of 180 days\n13,506\n2,679\n354\n0\n\n\nrequire prior observation of 180 days\n13,361\n2,677\n145\n2\n\n\nrequire cohort_start_date between 2000-01-01 to 2022-12-31\n3,433\n1,978\n9,928\n699"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#plotcohortattrition",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#plotcohortattrition",
    "title": "CohortCharacteristics",
    "section": "plotCohortAttrition",
    "text": "plotCohortAttrition\n\n\nplotCohortAttrition(result)"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#export-the-attrition-plot",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#export-the-attrition-plot",
    "title": "CohortCharacteristics",
    "section": "Export the attrition plot",
    "text": "Export the attrition plot\nThe output is a DiagrammeR object:\n\nplt &lt;- plotCohortAttrition(result)\n# DiagrammeRsvg::export_svg(plt)"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#your-turn",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#your-turn",
    "title": "CohortCharacteristics",
    "section": "Your turn",
    "text": "Your turn\nCan you visualise the attrition of the simvastatin cohort that we created before?\n\nCan you suppress counts under 10?"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#result",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#result",
    "title": "CohortCharacteristics",
    "section": "Result",
    "text": "Result"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#summarisecharacteristics",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#summarisecharacteristics",
    "title": "CohortCharacteristics",
    "section": "SummariseCharacteristics",
    "text": "SummariseCharacteristics\nsummariseCharacteristics() summarises the demographics of the cohort by default, but you can use the intersect arguments to evaluate:\n\nNumber of visits\nPresence of medicines or conditions\n…\n\n\nYou need to instantiate the medications and/or conditions of interest in a cohort table."
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#lets-instantiate-some-cohorts",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#lets-instantiate-some-cohorts",
    "title": "CohortCharacteristics",
    "section": "Let’s instantiate some cohorts",
    "text": "Let’s instantiate some cohorts\n\nlibrary(CodelistGenerator)\ncodelist &lt;- getDrugIngredientCodes(\n  cdm = cdm, \n  name = c(\"warfarin\", \"morphine\", \"verapamil\", \"atorvastatin\", \"nitroglycerin\"), \n  nameStyle = \"{concept_name}\"\n)\ncdm &lt;- generateDrugUtilisationCohortSet(\n  cdm = cdm,\n  name = \"medications\",\n  conceptSet = codelist\n)\ncdm &lt;- generateConceptCohortSet(\n  cdm = cdm, \n  conceptSet =list(\n    \"fever\" = c(437663),\n    \"cough\" = c(254761),\n    \"cardiac_arrest\" = c(321042),\n    \"myocardial_infarction\" = c(4329847),\n    \"headache\" = c(378253)\n  ),\n  name = \"conditions\",\n  end = 0,\n  limit = \"all\"\n)"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#summarisecharacteristics-1",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#summarisecharacteristics-1",
    "title": "CohortCharacteristics",
    "section": "summariseCharacteristics",
    "text": "summariseCharacteristics\n\nresult &lt;- cdm$dus_cohort |&gt;\n  PatientProfiles::addSex() |&gt;\n  summariseCharacteristics(\n    strata = list(\"sex\"),\n    demographics = TRUE,\n    ageGroup = list(c(0, 19), c(20, 39), c(40, 59), c(60, 79), c(80, Inf)),\n    tableIntersectCount = list(\n      \"Number visits prior year\" = list(tableName = \"visit_occurrence\", window = c(-365, -1))\n    ),\n    cohortIntersectFlag = list(\n      \"Conditions any time prior\" = list(targetCohortTable = \"conditions\", window = c(-Inf, -1)),\n      \"Medications prior year\" = list(targetCohortTable = \"medications\", window = c(-365, -1))\n    )\n  )\nresult |&gt;\n  glimpse()\n\nRows: 239\nColumns: 13\n$ result_id        &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ cdm_name         &lt;chr&gt; \"Synthea\", \"Synthea\", \"Synthea\", \"Synthea\", \"Synthea\", \"Synthea\", \"Synthea\", \"Synthea\", \"Synt…\n$ group_name       &lt;chr&gt; \"cohort_name\", \"cohort_name\", \"cohort_name\", \"cohort_name\", \"cohort_name\", \"cohort_name\", \"co…\n$ group_level      &lt;chr&gt; \"acetaminophen\", \"acetaminophen\", \"acetaminophen\", \"acetaminophen\", \"acetaminophen\", \"acetami…\n$ strata_name      &lt;chr&gt; \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"over…\n$ strata_level     &lt;chr&gt; \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"over…\n$ variable_name    &lt;chr&gt; \"Number records\", \"Number subjects\", \"Cohort start date\", \"Cohort start date\", \"Cohort start …\n$ variable_level   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \"0 to 19\", \"0 to …\n$ estimate_name    &lt;chr&gt; \"count\", \"count\", \"min\", \"q25\", \"median\", \"q75\", \"max\", \"min\", \"q25\", \"median\", \"q75\", \"max\",…\n$ estimate_type    &lt;chr&gt; \"integer\", \"integer\", \"date\", \"date\", \"date\", \"date\", \"date\", \"date\", \"date\", \"date\", \"date\",…\n$ estimate_value   &lt;chr&gt; \"3433\", \"1978\", \"2000-01-01\", \"2004-09-11\", \"2009-09-03\", \"2014-07-27\", \"2019-06-20\", \"2000-0…\n$ additional_name  &lt;chr&gt; \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"over…\n$ additional_level &lt;chr&gt; \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", \"over…"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#tablecharacteristics",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#tablecharacteristics",
    "title": "CohortCharacteristics",
    "section": "tableCharacteristics",
    "text": "tableCharacteristics\n\ntableCharacteristics(result)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCDM name\n\n\n\n\n\nSynthea\n\n\n\nSex\nVariable name\nVariable level\nEstimate name\n\nCohort name\n\n\n\nacetaminophen\n\n\n\n\noverall\nNumber records\n-\nN\n3,433\n\n\n\nNumber subjects\n-\nN\n1,978\n\n\n\nCohort start date\n-\nMedian [Q25 - Q75]\n2009-09-03 [2004-09-11 - 2014-07-27]\n\n\n\n\n\nRange\n2000-01-01 to 2019-06-20\n\n\n\nCohort end date\n-\nMedian [Q25 - Q75]\n2009-09-12 [2004-10-02 - 2014-08-15]\n\n\n\n\n\nRange\n2000-01-08 to 2019-06-24\n\n\n\nAge\n-\nMedian [Q25 - Q75]\n48 [38 - 59]\n\n\n\n\n\nMean (SD)\n49.82 (16.23)\n\n\n\n\n\nRange\n15 to 108\n\n\n\nAge group\n0 to 19\nN (%)\n22 (0.64%)\n\n\n\n\n20 to 39\nN (%)\n947 (27.59%)\n\n\n\n\n40 to 59\nN (%)\n1,649 (48.03%)\n\n\n\n\n60 to 79\nN (%)\n634 (18.47%)\n\n\n\n\n80 or above\nN (%)\n181 (5.27%)\n\n\n\nSex\nFemale\nN (%)\n1,734 (50.51%)\n\n\n\n\nMale\nN (%)\n1,699 (49.49%)\n\n\n\nPrior observation\n-\nMedian [Q25 - Q75]\n17,647 [14,111 - 21,709]\n\n\n\n\n\nMean (SD)\n18,379.35 (5,928.66)\n\n\n\n\n\nRange\n5,533 to 39,792\n\n\n\nFuture observation\n-\nMedian [Q25 - Q75]\n3,239 [1,489 - 5,038]\n\n\n\n\n\nMean (SD)\n3,281.32 (2,076.86)\n\n\n\n\n\nRange\n0 to 7,079\n\n\n\nDays in cohort\n-\nMedian [Q25 - Q75]\n15 [8 - 15]\n\n\n\n\n\nMean (SD)\n16.27 (15.22)\n\n\n\n\n\nRange\n1 to 128\n\n\n\nNumber visits prior year\n-\nMedian [Q25 - Q75]\n0.00 [0.00 - 0.00]\n\n\n\n\n\nMean (SD)\n0.01 (0.08)\n\n\n\n\n\nRange\n0.00 to 1.00\n\n\n\nConditions any time prior\nCardiac arrest\nN (%)\n147 (4.28%)\n\n\n\n\nMyocardial infarction\nN (%)\n11 (0.32%)\n\n\n\n\nFever\nN (%)\n0 (0.00%)\n\n\n\n\nCough\nN (%)\n0 (0.00%)\n\n\n\n\nHeadache\nN (%)\n0 (0.00%)\n\n\n\nMedications prior year\nNitroglycerin\nN (%)\n71 (2.07%)\n\n\n\n\nVerapamil\nN (%)\n7 (0.20%)\n\n\n\n\nWarfarin\nN (%)\n7 (0.20%)\n\n\n\n\nMorphine\nN (%)\n1 (0.03%)\n\n\n\n\nAtorvastatin\nN (%)\n0 (0.00%)\n\n\nFemale\nNumber records\n-\nN\n1,734\n\n\n\nNumber subjects\n-\nN\n995\n\n\n\nCohort start date\n-\nMedian [Q25 - Q75]\n2009-03-17 [2004-07-13 - 2014-04-16]\n\n\n\n\n\nRange\n2000-01-04 to 2019-06-19\n\n\n\nCohort end date\n-\nMedian [Q25 - Q75]\n2009-03-26 [2004-08-11 - 2014-05-04]\n\n\n\n\n\nRange\n2000-01-11 to 2019-06-24\n\n\n\nAge\n-\nMedian [Q25 - Q75]\n47 [38 - 58]\n\n\n\n\n\nMean (SD)\n49.30 (16.51)\n\n\n\n\n\nRange\n15 to 108\n\n\n\nAge group\n0 to 19\nN (%)\n12 (0.69%)\n\n\n\n\n20 to 39\nN (%)\n502 (28.95%)\n\n\n\n\n40 to 59\nN (%)\n831 (47.92%)\n\n\n\n\n60 to 79\nN (%)\n294 (16.96%)\n\n\n\n\n80 or above\nN (%)\n95 (5.48%)\n\n\n\nSex\nFemale\nN (%)\n1,734 (100.00%)\n\n\n\nPrior observation\n-\nMedian [Q25 - Q75]\n17,304 [13,893 - 21,273]\n\n\n\n\n\nMean (SD)\n18,192.20 (6,030.87)\n\n\n\n\n\nRange\n5,533 to 39,792\n\n\n\nFuture observation\n-\nMedian [Q25 - Q75]\n3,433 [1,601 - 5,183]\n\n\n\n\n\nMean (SD)\n3,411.20 (2,067.78)\n\n\n\n\n\nRange\n0 to 7,056\n\n\n\nDays in cohort\n-\nMedian [Q25 - Q75]\n15 [8 - 15]\n\n\n\n\n\nMean (SD)\n16.76 (15.99)\n\n\n\n\n\nRange\n1 to 91\n\n\n\nNumber visits prior year\n-\nMedian [Q25 - Q75]\n0.00 [0.00 - 0.00]\n\n\n\n\n\nMean (SD)\n0.01 (0.09)\n\n\n\n\n\nRange\n0.00 to 1.00\n\n\n\nConditions any time prior\nCardiac arrest\nN (%)\n85 (4.90%)\n\n\n\n\nMyocardial infarction\nN (%)\n1 (0.06%)\n\n\n\n\nFever\nN (%)\n0 (0.00%)\n\n\n\n\nCough\nN (%)\n0 (0.00%)\n\n\n\n\nHeadache\nN (%)\n0 (0.00%)\n\n\n\nMedications prior year\nNitroglycerin\nN (%)\n15 (0.87%)\n\n\n\n\nVerapamil\nN (%)\n2 (0.12%)\n\n\n\n\nWarfarin\nN (%)\n2 (0.12%)\n\n\n\n\nMorphine\nN (%)\n0 (0.00%)\n\n\n\n\nAtorvastatin\nN (%)\n0 (0.00%)\n\n\nMale\nNumber records\n-\nN\n1,699\n\n\n\nNumber subjects\n-\nN\n983\n\n\n\nCohort start date\n-\nMedian [Q25 - Q75]\n2010-02-12 [2004-12-26 - 2014-10-24]\n\n\n\n\n\nRange\n2000-01-01 to 2019-06-20\n\n\n\nCohort end date\n-\nMedian [Q25 - Q75]\n2010-02-20 [2005-01-11 - 2014-11-04]\n\n\n\n\n\nRange\n2000-01-08 to 2019-06-20\n\n\n\nAge\n-\nMedian [Q25 - Q75]\n49 [39 - 60]\n\n\n\n\n\nMean (SD)\n50.35 (15.93)\n\n\n\n\n\nRange\n15 to 105\n\n\n\nAge group\n0 to 19\nN (%)\n10 (0.59%)\n\n\n\n\n20 to 39\nN (%)\n445 (26.19%)\n\n\n\n\n40 to 59\nN (%)\n818 (48.15%)\n\n\n\n\n60 to 79\nN (%)\n340 (20.01%)\n\n\n\n\n80 or above\nN (%)\n86 (5.06%)\n\n\n\nSex\nMale\nN (%)\n1,699 (100.00%)\n\n\n\nPrior observation\n-\nMedian [Q25 - Q75]\n17,997 [14,330 - 21,922]\n\n\n\n\n\nMean (SD)\n18,570.35 (5,818.06)\n\n\n\n\n\nRange\n5,765 to 38,529\n\n\n\nFuture observation\n-\nMedian [Q25 - Q75]\n3,020 [1,360 - 4,879]\n\n\n\n\n\nMean (SD)\n3,148.77 (2,078.34)\n\n\n\n\n\nRange\n0 to 7,079\n\n\n\nDays in cohort\n-\nMedian [Q25 - Q75]\n15 [8 - 15]\n\n\n\n\n\nMean (SD)\n15.76 (14.39)\n\n\n\n\n\nRange\n1 to 128\n\n\n\nNumber visits prior year\n-\nMedian [Q25 - Q75]\n0.00 [0.00 - 0.00]\n\n\n\n\n\nMean (SD)\n0.01 (0.07)\n\n\n\n\n\nRange\n0.00 to 1.00\n\n\n\nConditions any time prior\nCardiac arrest\nN (%)\n62 (3.65%)\n\n\n\n\nMyocardial infarction\nN (%)\n10 (0.59%)\n\n\n\n\nFever\nN (%)\n0 (0.00%)\n\n\n\n\nCough\nN (%)\n0 (0.00%)\n\n\n\n\nHeadache\nN (%)\n0 (0.00%)\n\n\n\nMedications prior year\nNitroglycerin\nN (%)\n56 (3.30%)\n\n\n\n\nVerapamil\nN (%)\n5 (0.29%)\n\n\n\n\nWarfarin\nN (%)\n5 (0.29%)\n\n\n\n\nMorphine\nN (%)\n1 (0.06%)\n\n\n\n\nAtorvastatin\nN (%)\n0 (0.00%)"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#tablecharacteristics-1",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#tablecharacteristics-1",
    "title": "CohortCharacteristics",
    "section": "tableCharacteristics",
    "text": "tableCharacteristics\n\ntableCharacteristics(\n  result,\n  header = c(\"cdm_name\", \"sex\"),\n  groupColumn = c(\"cohort_name\"),\n  hide = c(\"table\", \"window\", \"value\")\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCDM name\n\n\n\n\n\nSynthea\n\n\n\nVariable name\nVariable level\nEstimate name\nTable name\n\nSex\n\n\n\noverall\nFemale\nMale\n\n\n\n\nacetaminophen\n\n\nNumber records\n-\nN\ntemp\n3,433\n1,734\n1,699\n\n\nNumber subjects\n-\nN\ntemp\n1,978\n995\n983\n\n\nCohort start date\n-\nMedian [Q25 - Q75]\ntemp\n2009-09-03 [2004-09-11 - 2014-07-27]\n2009-03-17 [2004-07-13 - 2014-04-16]\n2010-02-12 [2004-12-26 - 2014-10-24]\n\n\n\n\nRange\ntemp\n2000-01-01 to 2019-06-20\n2000-01-04 to 2019-06-19\n2000-01-01 to 2019-06-20\n\n\nCohort end date\n-\nMedian [Q25 - Q75]\ntemp\n2009-09-12 [2004-10-02 - 2014-08-15]\n2009-03-26 [2004-08-11 - 2014-05-04]\n2010-02-20 [2005-01-11 - 2014-11-04]\n\n\n\n\nRange\ntemp\n2000-01-08 to 2019-06-24\n2000-01-11 to 2019-06-24\n2000-01-08 to 2019-06-20\n\n\nAge\n-\nMedian [Q25 - Q75]\ntemp\n48 [38 - 59]\n47 [38 - 58]\n49 [39 - 60]\n\n\n\n\nMean (SD)\ntemp\n49.82 (16.23)\n49.30 (16.51)\n50.35 (15.93)\n\n\n\n\nRange\ntemp\n15 to 108\n15 to 108\n15 to 105\n\n\nAge group\n0 to 19\nN (%)\ntemp\n22 (0.64%)\n12 (0.69%)\n10 (0.59%)\n\n\n\n20 to 39\nN (%)\ntemp\n947 (27.59%)\n502 (28.95%)\n445 (26.19%)\n\n\n\n40 to 59\nN (%)\ntemp\n1,649 (48.03%)\n831 (47.92%)\n818 (48.15%)\n\n\n\n60 to 79\nN (%)\ntemp\n634 (18.47%)\n294 (16.96%)\n340 (20.01%)\n\n\n\n80 or above\nN (%)\ntemp\n181 (5.27%)\n95 (5.48%)\n86 (5.06%)\n\n\nSex\nFemale\nN (%)\ntemp\n1,734 (50.51%)\n1,734 (100.00%)\n-\n\n\n\nMale\nN (%)\ntemp\n1,699 (49.49%)\n-\n1,699 (100.00%)\n\n\nPrior observation\n-\nMedian [Q25 - Q75]\ntemp\n17,647 [14,111 - 21,709]\n17,304 [13,893 - 21,273]\n17,997 [14,330 - 21,922]\n\n\n\n\nMean (SD)\ntemp\n18,379.35 (5,928.66)\n18,192.20 (6,030.87)\n18,570.35 (5,818.06)\n\n\n\n\nRange\ntemp\n5,533 to 39,792\n5,533 to 39,792\n5,765 to 38,529\n\n\nFuture observation\n-\nMedian [Q25 - Q75]\ntemp\n3,239 [1,489 - 5,038]\n3,433 [1,601 - 5,183]\n3,020 [1,360 - 4,879]\n\n\n\n\nMean (SD)\ntemp\n3,281.32 (2,076.86)\n3,411.20 (2,067.78)\n3,148.77 (2,078.34)\n\n\n\n\nRange\ntemp\n0 to 7,079\n0 to 7,056\n0 to 7,079\n\n\nDays in cohort\n-\nMedian [Q25 - Q75]\ntemp\n15 [8 - 15]\n15 [8 - 15]\n15 [8 - 15]\n\n\n\n\nMean (SD)\ntemp\n16.27 (15.22)\n16.76 (15.99)\n15.76 (14.39)\n\n\n\n\nRange\ntemp\n1 to 128\n1 to 91\n1 to 128\n\n\nNumber visits prior year\n-\nMedian [Q25 - Q75]\ntemp\n0.00 [0.00 - 0.00]\n0.00 [0.00 - 0.00]\n0.00 [0.00 - 0.00]\n\n\n\n\nMean (SD)\ntemp\n0.01 (0.08)\n0.01 (0.09)\n0.01 (0.07)\n\n\n\n\nRange\ntemp\n0.00 to 1.00\n0.00 to 1.00\n0.00 to 1.00\n\n\nConditions any time prior\nCardiac arrest\nN (%)\ntemp\n147 (4.28%)\n85 (4.90%)\n62 (3.65%)\n\n\n\nMyocardial infarction\nN (%)\ntemp\n11 (0.32%)\n1 (0.06%)\n10 (0.59%)\n\n\n\nFever\nN (%)\ntemp\n0 (0.00%)\n0 (0.00%)\n0 (0.00%)\n\n\n\nCough\nN (%)\ntemp\n0 (0.00%)\n0 (0.00%)\n0 (0.00%)\n\n\n\nHeadache\nN (%)\ntemp\n0 (0.00%)\n0 (0.00%)\n0 (0.00%)\n\n\nMedications prior year\nNitroglycerin\nN (%)\ntemp\n71 (2.07%)\n15 (0.87%)\n56 (3.30%)\n\n\n\nVerapamil\nN (%)\ntemp\n7 (0.20%)\n2 (0.12%)\n5 (0.29%)\n\n\n\nWarfarin\nN (%)\ntemp\n7 (0.20%)\n2 (0.12%)\n5 (0.29%)\n\n\n\nMorphine\nN (%)\ntemp\n1 (0.03%)\n0 (0.00%)\n1 (0.06%)\n\n\n\nAtorvastatin\nN (%)\ntemp\n0 (0.00%)\n0 (0.00%)\n0 (0.00%)"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#tablecharacteristics-2",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#tablecharacteristics-2",
    "title": "CohortCharacteristics",
    "section": "tableCharacteristics",
    "text": "tableCharacteristics\n\nresult |&gt;\n  dplyr::filter(!estimate_name %in% c(\"min\", \"max\", \"mean\", \"sd\")) |&gt;\n  tableCharacteristics(\n    header = c(\"cdm_name\", \"sex\"),\n    groupColumn = c(\"cohort_name\"),\n    hide = c(\"table\", \"window\", \"value\")\n  )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCDM name\n\n\n\n\n\nSynthea\n\n\n\nVariable name\nVariable level\nEstimate name\nTable name\n\nSex\n\n\n\noverall\nFemale\nMale\n\n\n\n\nacetaminophen\n\n\nNumber records\n-\nN\ntemp\n3,433\n1,734\n1,699\n\n\nNumber subjects\n-\nN\ntemp\n1,978\n995\n983\n\n\nCohort start date\n-\nMedian [Q25 - Q75]\ntemp\n2009-09-03 [2004-09-11 - 2014-07-27]\n2009-03-17 [2004-07-13 - 2014-04-16]\n2010-02-12 [2004-12-26 - 2014-10-24]\n\n\nCohort end date\n-\nMedian [Q25 - Q75]\ntemp\n2009-09-12 [2004-10-02 - 2014-08-15]\n2009-03-26 [2004-08-11 - 2014-05-04]\n2010-02-20 [2005-01-11 - 2014-11-04]\n\n\nAge\n-\nMedian [Q25 - Q75]\ntemp\n48 [38 - 59]\n47 [38 - 58]\n49 [39 - 60]\n\n\nAge group\n0 to 19\nN (%)\ntemp\n22 (0.64%)\n12 (0.69%)\n10 (0.59%)\n\n\n\n20 to 39\nN (%)\ntemp\n947 (27.59%)\n502 (28.95%)\n445 (26.19%)\n\n\n\n40 to 59\nN (%)\ntemp\n1,649 (48.03%)\n831 (47.92%)\n818 (48.15%)\n\n\n\n60 to 79\nN (%)\ntemp\n634 (18.47%)\n294 (16.96%)\n340 (20.01%)\n\n\n\n80 or above\nN (%)\ntemp\n181 (5.27%)\n95 (5.48%)\n86 (5.06%)\n\n\nSex\nFemale\nN (%)\ntemp\n1,734 (50.51%)\n1,734 (100.00%)\n-\n\n\n\nMale\nN (%)\ntemp\n1,699 (49.49%)\n-\n1,699 (100.00%)\n\n\nPrior observation\n-\nMedian [Q25 - Q75]\ntemp\n17,647 [14,111 - 21,709]\n17,304 [13,893 - 21,273]\n17,997 [14,330 - 21,922]\n\n\nFuture observation\n-\nMedian [Q25 - Q75]\ntemp\n3,239 [1,489 - 5,038]\n3,433 [1,601 - 5,183]\n3,020 [1,360 - 4,879]\n\n\nDays in cohort\n-\nMedian [Q25 - Q75]\ntemp\n15 [8 - 15]\n15 [8 - 15]\n15 [8 - 15]\n\n\nNumber visits prior year\n-\nMedian [Q25 - Q75]\ntemp\n0.00 [0.00 - 0.00]\n0.00 [0.00 - 0.00]\n0.00 [0.00 - 0.00]\n\n\nConditions any time prior\nCardiac arrest\nN (%)\ntemp\n147 (4.28%)\n85 (4.90%)\n62 (3.65%)\n\n\n\nMyocardial infarction\nN (%)\ntemp\n11 (0.32%)\n1 (0.06%)\n10 (0.59%)\n\n\n\nFever\nN (%)\ntemp\n0 (0.00%)\n0 (0.00%)\n0 (0.00%)\n\n\n\nCough\nN (%)\ntemp\n0 (0.00%)\n0 (0.00%)\n0 (0.00%)\n\n\n\nHeadache\nN (%)\ntemp\n0 (0.00%)\n0 (0.00%)\n0 (0.00%)\n\n\nMedications prior year\nNitroglycerin\nN (%)\ntemp\n71 (2.07%)\n15 (0.87%)\n56 (3.30%)\n\n\n\nVerapamil\nN (%)\ntemp\n7 (0.20%)\n2 (0.12%)\n5 (0.29%)\n\n\n\nWarfarin\nN (%)\ntemp\n7 (0.20%)\n2 (0.12%)\n5 (0.29%)\n\n\n\nMorphine\nN (%)\ntemp\n1 (0.03%)\n0 (0.00%)\n1 (0.06%)\n\n\n\nAtorvastatin\nN (%)\ntemp\n0 (0.00%)\n0 (0.00%)\n0 (0.00%)"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#your-turn-1",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#your-turn-1",
    "title": "CohortCharacteristics",
    "section": "Your turn",
    "text": "Your turn\nCharacterise the ‘simvastatin’ cohort with:\n\nDemographics\nTwo age groups: 0-49; &gt;=50\nNumber of records in condition_occurrence on the index date.\nUsing same drugs than for acetaminophen which ones where used in the prior year including index date\n\nUsing same conditions than for acetaminophen which ones where used any time prior including index date\n\n\n\nSuppress counts under 10\n\n\nVisualise it in a nice table\n\n\nCan you stratify the result by age group? (PatientProfiles::addAge() allows you to add age_group column to any table)."
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#result-1",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#result-1",
    "title": "CohortCharacteristics",
    "section": "Result",
    "text": "Result\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVariable name\nVariable level\nEstimate name\nTable name\n\nAge group\n\n\n\noverall\n0 to 49\n50 or above\n\n\n\n\n36567_simvastatin\n\n\nNumber records\n-\nN\ntemp\n57\n&lt;10\n51\n\n\nNumber subjects\n-\nN\ntemp\n57\n&lt;10\n51\n\n\nCohort start date\n-\nMedian [Q25 - Q75]\ntemp\n2014-09-22 [2012-09-24 - 2017-03-03]\n-\n2014-09-22 [2013-02-08 - 2017-02-27]\n\n\nCohort end date\n-\nMedian [Q25 - Q75]\ntemp\n2014-09-22 [2012-09-24 - 2017-03-03]\n-\n2014-09-22 [2013-02-08 - 2017-02-27]\n\n\nAge\n-\nMedian [Q25 - Q75]\ntemp\n68 [57 - 76]\n-\n69 [61 - 78]\n\n\nAge group\n0 to 49\nN (%)\ntemp\n&lt;10\n&lt;10\n-\n\n\n\n50 or above\nN (%)\ntemp\n51 (89.47%)\n-\n51 (100.00%)\n\n\nSex\nFemale\nN (%)\ntemp\n10 (17.54%)\n-\n10 (19.61%)\n\n\n\nMale\nN (%)\ntemp\n47 (82.46%)\n&lt;10\n41 (80.39%)\n\n\nPrior observation\n-\nMedian [Q25 - Q75]\ntemp\n24,940 [21,140 - 27,881]\n-\n25,311 [22,378 - 28,798]\n\n\nFuture observation\n-\nMedian [Q25 - Q75]\ntemp\n1,292 [574 - 1,995]\n-\n1,303 [658 - 1,938]\n\n\nDays in cohort\n-\nMedian [Q25 - Q75]\ntemp\n1 [1 - 1]\n-\n1 [1 - 1]\n\n\nNumber conditions on index\n-\nMedian [Q25 - Q75]\ntemp\n1.00 [1.00 - 1.00]\n-\n1.00 [1.00 - 1.00]\n\n\nConditions any time prior\nCardiac arrest\nN (%)\ntemp\n&lt;10\n-\n&lt;10\n\n\n\nFever\nN (%)\ntemp\n0 (0.00%)\n-\n0 (0.00%)\n\n\n\nCough\nN (%)\ntemp\n0 (0.00%)\n-\n0 (0.00%)\n\n\n\nMyocardial infarction\nN (%)\ntemp\n0 (0.00%)\n-\n0 (0.00%)\n\n\n\nHeadache\nN (%)\ntemp\n0 (0.00%)\n-\n0 (0.00%)\n\n\nMedications prior year\nNitroglycerin\nN (%)\ntemp\n57 (100.00%)\n&lt;10\n51 (100.00%)\n\n\n\nAtorvastatin\nN (%)\ntemp\n0 (0.00%)\n-\n0 (0.00%)\n\n\n\nMorphine\nN (%)\ntemp\n0 (0.00%)\n-\n0 (0.00%)\n\n\n\nVerapamil\nN (%)\ntemp\n0 (0.00%)\n-\n0 (0.00%)\n\n\n\nWarfarin\nN (%)\ntemp\n0 (0.00%)\n-\n0 (0.00%)"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#solution",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#solution",
    "title": "CohortCharacteristics",
    "section": "Solution",
    "text": "Solution\n\nresult &lt;- cdm$simvastatin_cohort |&gt;\n  PatientProfiles::addAge(ageGroup = list(c(0, 49), c(50, Inf))) |&gt;\n  summariseCharacteristics(\n    strata = list(\"age_group\"),\n    demographics = TRUE,\n    ageGroup = list(c(0, 49), c(50, Inf)),\n    tableIntersectCount = list(\n      \"Number conditions on index\" = list(tableName = \"condition_occurrence\", window = c(0, 0))\n    ),\n    cohortIntersectFlag = list(\n      \"Conditions any time prior\" = list(targetCohortTable = \"conditions\", window = c(-Inf, 0)),\n      \"Medications prior year\" = list(targetCohortTable = \"medications\", window = c(-365, 0))\n    )\n  )\nresult |&gt;\n  suppress(minCellCount = 10) |&gt;\n  dplyr::filter(!estimate_name %in% c(\"min\", \"max\", \"mean\", \"sd\")) |&gt;\n  tableCharacteristics(\n    header = \"age_group\", \n    groupColumn = \"cohort_name\",\n    hide = c(\"table\", \"window\", \"value\", \"cdm_name\")\n  )"
  },
  {
    "objectID": "Presentations/CohortCharacteristics/cohortcharacteristics.html#cohortcharacteristics-1",
    "href": "Presentations/CohortCharacteristics/cohortcharacteristics.html#cohortcharacteristics-1",
    "title": "CohortCharacteristics",
    "section": "CohortCharacteristics",
    "text": "CohortCharacteristics"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#standarisation-of-the-data-format",
    "href": "Presentations/CDMConnector/CDMConnector.html#standarisation-of-the-data-format",
    "title": "OMOP and CDMConnector",
    "section": "Standarisation of the data format",
    "text": "Standarisation of the data format\n\nThe OMOP Common Data Model"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#connect-to-eunomia",
    "href": "Presentations/CDMConnector/CDMConnector.html#connect-to-eunomia",
    "title": "OMOP and CDMConnector",
    "section": "Connect to eunomia",
    "text": "Connect to eunomia\n\nEunomia is a synthetic OMOP database with ~2,600 individuals. It is freely available and you can download it as:\n\n\n\nlibrary(DBI)\nlibrary(dplyr)\nlibrary(duckdb)\nlibrary(CDMConnector)\nlibrary(here)\n# downloadEunomiaData(pathToData = here(\"eunomia\"), overwrite = TRUE)\nSys.setenv(\"EUNOMIA_DATA_FOLDER\" = here(\"eunomia\"))\n\n\n\nTo connect to this database we are going to use duckdb\n\ndb &lt;- dbConnect(duckdb(), dbdir = eunomiaDir())\ndb"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#creating-a-reference-to-the-omop-common-data-model",
    "href": "Presentations/CDMConnector/CDMConnector.html#creating-a-reference-to-the-omop-common-data-model",
    "title": "OMOP and CDMConnector",
    "section": "Creating a reference to the OMOP common data model",
    "text": "Creating a reference to the OMOP common data model\nWe already know what the structure of the OMOP CDM looks like. The CDMConnector package was made to help you to quickly create a reference to the OMOP CDM data as a whole.\n\nlibrary(CDMConnector)\n\n\nTo install any of these packages that we use you can type: install.packages(\"CDMConnector\") in the console."
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#creating-a-reference-to-the-omop-common-data-model-1",
    "href": "Presentations/CDMConnector/CDMConnector.html#creating-a-reference-to-the-omop-common-data-model-1",
    "title": "OMOP and CDMConnector",
    "section": "Creating a reference to the OMOP common data model",
    "text": "Creating a reference to the OMOP common data model\n\ncdm &lt;- cdmFromCon(con = db, cdmSchema = \"main\", writeSchema = \"main\")\ncdm\n\n\n\n\n── # OMOP CDM reference (duckdb) of Synthea ────────────────────────────────────\n\n\n• omop tables: person, observation_period, visit_occurrence, visit_detail,\ncondition_occurrence, drug_exposure, procedure_occurrence, device_exposure,\nmeasurement, observation, death, note, note_nlp, specimen, fact_relationship,\nlocation, care_site, provider, payer_plan_period, cost, drug_era, dose_era,\ncondition_era, metadata, cdm_source, concept, vocabulary, domain,\nconcept_class, concept_relationship, relationship, concept_synonym,\nconcept_ancestor, source_to_concept_map, drug_strength\n\n\n• cohort tables: -\n\n\n• achilles tables: -\n\n\n• other tables: -"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#creating-a-reference-to-the-omop-common-data-model-2",
    "href": "Presentations/CDMConnector/CDMConnector.html#creating-a-reference-to-the-omop-common-data-model-2",
    "title": "OMOP and CDMConnector",
    "section": "Creating a reference to the OMOP common data model",
    "text": "Creating a reference to the OMOP common data model\nOnce we have created the our reference to the overall OMOP CDM, we can reference specific tables using the “$” operator or [[““]].\n\ncdm$observation_period |&gt; head(2)\n\n# Source:   SQL [?? x 5]\n# Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp66AlnV/file2565781347ba.duckdb]\n  observation_period_id person_id observation_period_st…¹ observation_period_e…²\n                  &lt;int&gt;     &lt;int&gt; &lt;date&gt;                  &lt;date&gt;                \n1                     6         6 1963-12-31              2007-02-06            \n2                    13        13 2009-04-26              2019-04-14            \n# ℹ abbreviated names: ¹​observation_period_start_date,\n#   ²​observation_period_end_date\n# ℹ 1 more variable: period_type_concept_id &lt;int&gt;\n\n\n\n\n\ncdm[[\"observation_period\"]] |&gt; head(2)\n\n# Source:   SQL [?? x 5]\n# Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp66AlnV/file2565781347ba.duckdb]\n  observation_period_id person_id observation_period_st…¹ observation_period_e…²\n                  &lt;int&gt;     &lt;int&gt; &lt;date&gt;                  &lt;date&gt;                \n1                     6         6 1963-12-31              2007-02-06            \n2                    13        13 2009-04-26              2019-04-14            \n# ℹ abbreviated names: ¹​observation_period_start_date,\n#   ²​observation_period_end_date\n# ℹ 1 more variable: period_type_concept_id &lt;int&gt;"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#creating-a-reference-to-the-omop-common-data-model-3",
    "href": "Presentations/CDMConnector/CDMConnector.html#creating-a-reference-to-the-omop-common-data-model-3",
    "title": "OMOP and CDMConnector",
    "section": "Creating a reference to the OMOP common data model",
    "text": "Creating a reference to the OMOP common data model\nWe can use common dplyr operations to interact with the data in our cdm reference\n\ncdm$condition_occurrence |&gt; \n  count()\n\n# Source:   SQL [?? x 1]\n# Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp66AlnV/file2565781347ba.duckdb]\n      n\n  &lt;dbl&gt;\n1 65332\n\n\n\n\n\ncdm$condition_occurrence |&gt; \n  summarise(\n    min_condition_start = min(condition_start_date, na.rm = TRUE),\n    median_condition_start = median(condition_start_date, na.rm = TRUE),\n    max_condition_start = max(condition_start_date, na.rm = TRUE))\n\n# Source:   SQL [?? x 3]\n# Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp66AlnV/file2565781347ba.duckdb]\n  min_condition_start median_condition_start max_condition_start\n  &lt;date&gt;              &lt;dttm&gt;                 &lt;date&gt;             \n1 1908-10-30          1986-12-09 00:00:00    2019-06-29"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#creating-a-reference-to-the-omop-common-data-model-4",
    "href": "Presentations/CDMConnector/CDMConnector.html#creating-a-reference-to-the-omop-common-data-model-4",
    "title": "OMOP and CDMConnector",
    "section": "Creating a reference to the OMOP common data model",
    "text": "Creating a reference to the OMOP common data model\nBehind the scenes our dplyr query is being translated into SQL.\n\ncdm$condition_occurrence |&gt; \n  summarise(\n    min_condition_start = min(condition_start_date, na.rm = TRUE),\n    median_condition_start = median(condition_start_date, na.rm = TRUE),\n    max_condition_start = max(condition_start_date, na.rm = TRUE)) |&gt; \n  show_query()\n\n&lt;SQL&gt;\nSELECT\n  MIN(condition_start_date) AS min_condition_start,\n  MEDIAN(condition_start_date) AS median_condition_start,\n  MAX(condition_start_date) AS max_condition_start\nFROM condition_occurrence"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#your-turn",
    "href": "Presentations/CDMConnector/CDMConnector.html#your-turn",
    "title": "OMOP and CDMConnector",
    "section": "Your turn",
    "text": "Your turn\nUsing a cdm reference you have connected to:\n\nHow many people are in the person table?\nWhat is the minimum observation period start date?\nWhat is the maximum observation period end date?"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#cdm-vocabulary-tables",
    "href": "Presentations/CDMConnector/CDMConnector.html#cdm-vocabulary-tables",
    "title": "OMOP and CDMConnector",
    "section": "CDM vocabulary tables",
    "text": "CDM vocabulary tables\n\ncdm$concept %&gt;% glimpse()\n\nRows: ??\nColumns: 10\nDatabase: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp66AlnV/file2565781347ba.duckdb]\n$ concept_id       &lt;int&gt; 35208414, 1118088, 40213201, 1557272, 4336464, 429588…\n$ concept_name     &lt;chr&gt; \"Gastrointestinal hemorrhage, unspecified\", \"celecoxi…\n$ domain_id        &lt;chr&gt; \"Condition\", \"Drug\", \"Drug\", \"Drug\", \"Procedure\", \"Pr…\n$ vocabulary_id    &lt;chr&gt; \"ICD10CM\", \"RxNorm\", \"CVX\", \"RxNorm\", \"SNOMED\", \"SNOM…\n$ concept_class_id &lt;chr&gt; \"4-char billing code\", \"Branded Drug\", \"CVX\", \"Ingred…\n$ standard_concept &lt;chr&gt; NA, \"S\", \"S\", \"S\", \"S\", \"S\", \"S\", \"S\", NA, NA, \"S\", \"…\n$ concept_code     &lt;chr&gt; \"K92.2\", \"213469\", \"33\", \"46041\", \"232717009\", \"76601…\n$ valid_start_date &lt;date&gt; 2007-01-01, 1970-01-01, 2008-12-01, 1970-01-01, 1970…\n$ valid_end_date   &lt;date&gt; 2099-12-31, 2099-12-31, 2099-12-31, 2099-12-31, 2099…\n$ invalid_reason   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#cdm-vocabulary-tables-1",
    "href": "Presentations/CDMConnector/CDMConnector.html#cdm-vocabulary-tables-1",
    "title": "OMOP and CDMConnector",
    "section": "CDM vocabulary tables",
    "text": "CDM vocabulary tables\n\ncdm$condition_occurrence %&gt;% \n  group_by(condition_concept_id) %&gt;% \n  tally() %&gt;% \n  left_join(cdm$concept %&gt;% \n              select(\"concept_id\", \"concept_name\"),\n            by = c(\"condition_concept_id\" = \"concept_id\")) %&gt;% \n  collect() %&gt;% \n  arrange(desc(n))\n\n# A tibble: 80 × 3\n   condition_concept_id     n concept_name                            \n                  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;                                   \n 1             40481087 17268 Viral sinusitis                         \n 2              4112343 10217 Acute viral pharyngitis                 \n 3               260139  8184 Acute bronchitis                        \n 4               372328  3605 Otitis media                            \n 5                80180  2694 Osteoarthritis                          \n 6                28060  2656 Streptococcal sore throat               \n 7                81151  1915 Sprain of ankle                         \n 8               378001  1013 Concussion with no loss of consciousness\n 9              4283893  1001 Sinusitis                               \n10              4294548   939 Acute bacterial sinusitis               \n# ℹ 70 more rows"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#cdm-vocabulary-tables-2",
    "href": "Presentations/CDMConnector/CDMConnector.html#cdm-vocabulary-tables-2",
    "title": "OMOP and CDMConnector",
    "section": "CDM vocabulary tables",
    "text": "CDM vocabulary tables\n\ncdm$concept_ancestor %&gt;% glimpse()\n\nRows: ??\nColumns: 4\nDatabase: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp66AlnV/file2565781347ba.duckdb]\n$ ancestor_concept_id      &lt;int&gt; 4180628, 4179141, 21500574, 21505770, 2150396…\n$ descendant_concept_id    &lt;int&gt; 313217, 4146173, 1118084, 1119510, 40162522, …\n$ min_levels_of_separation &lt;int&gt; 5, 2, 4, 0, 5, 4, 0, 4, 2, 2, 0, 0, 0, 0, 0, …\n$ max_levels_of_separation &lt;int&gt; 6, 2, 4, 0, 6, 4, 0, 4, 2, 2, 0, 0, 0, 0, 0, …"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#cdm-vocabulary-tables-3",
    "href": "Presentations/CDMConnector/CDMConnector.html#cdm-vocabulary-tables-3",
    "title": "OMOP and CDMConnector",
    "section": "CDM vocabulary tables",
    "text": "CDM vocabulary tables\n\ncdm$concept_relationship %&gt;% glimpse()\n\nRows: ??\nColumns: 6\nDatabase: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp66AlnV/file2565781347ba.duckdb]\n$ concept_id_1     &lt;int&gt; 192671, 1118088, 1569708, 35208414, 35208414, 4016235…\n$ concept_id_2     &lt;int&gt; 35208414, 44923712, 35208414, 192671, 1569708, 450118…\n$ relationship_id  &lt;chr&gt; \"Mapped from\", \"Mapped from\", \"Subsumes\", \"Maps to\", …\n$ valid_start_date &lt;date&gt; 1970-01-01, 1970-01-01, 2016-03-25, 1970-01-01, 2016…\n$ valid_end_date   &lt;date&gt; 2099-12-31, 2099-12-31, 2099-12-31, 2099-12-31, 2099…\n$ invalid_reason   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#cdm-vocabulary-tables-4",
    "href": "Presentations/CDMConnector/CDMConnector.html#cdm-vocabulary-tables-4",
    "title": "OMOP and CDMConnector",
    "section": "CDM vocabulary tables",
    "text": "CDM vocabulary tables\n\ncdm$concept_synonym %&gt;% glimpse()\n\nRows: ??\nColumns: 3\nDatabase: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp66AlnV/file2565781347ba.duckdb]\n$ concept_id           &lt;int&gt; 964261, 1322184, 441267, 1718412, 4336464, 410212…\n$ concept_synonym_name &lt;chr&gt; \"cyanocobalamin 5000 MCG/ML Injectable Solution\",…\n$ language_concept_id  &lt;int&gt; 4180186, 4180186, 4180186, 4180186, 4180186, 4180…"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#vocabulary-version",
    "href": "Presentations/CDMConnector/CDMConnector.html#vocabulary-version",
    "title": "OMOP and CDMConnector",
    "section": "Vocabulary version",
    "text": "Vocabulary version\nSearch results will be specific to the version of the vocabulary being used\n\nlibrary(CodelistGenerator)\ngetVocabVersion(cdm)\n\n[1] \"v5.0 18-JAN-19\""
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#available-vocabularies",
    "href": "Presentations/CDMConnector/CDMConnector.html#available-vocabularies",
    "title": "OMOP and CDMConnector",
    "section": "Available vocabularies",
    "text": "Available vocabularies\nWhat vocabularies are available?\n\ngetVocabularies(cdm = cdm)\n\n[1] \"CVX\"     \"Gender\"  \"ICD10CM\" \"LOINC\"   \"NDC\"     \"None\"    \"RxNorm\" \n[8] \"SNOMED\"  \"Visit\""
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#available-domains",
    "href": "Presentations/CDMConnector/CDMConnector.html#available-domains",
    "title": "OMOP and CDMConnector",
    "section": "Available domains",
    "text": "Available domains\nWhat domains are present?\n\ngetDomains(cdm)\n\n[1] \"Measurement\" \"Observation\" \"Visit\"       \"Gender\"      \"Procedure\"  \n[6] \"Condition\"   \"Drug\""
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#concept-classes",
    "href": "Presentations/CDMConnector/CDMConnector.html#concept-classes",
    "title": "OMOP and CDMConnector",
    "section": "Concept classes",
    "text": "Concept classes\nWhat concept classes are present?\n\ngetConceptClassId(cdm,\n                  standardConcept = \"Standard\",\n                  domain = \"Drug\")\n\n[1] \"Branded Drug\"        \"Branded Drug Comp\"   \"Branded Pack\"       \n[4] \"Clinical Drug\"       \"Clinical Drug Comp\"  \"CVX\"                \n[7] \"Ingredient\"          \"Quant Branded Drug\"  \"Quant Clinical Drug\"\n\n\n\n\ngetConceptClassId(cdm,\n                  standardConcept = \"Standard\",\n                  domain = \"Condition\")\n\n[1] \"Clinical Finding\""
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#your-turn-1",
    "href": "Presentations/CDMConnector/CDMConnector.html#your-turn-1",
    "title": "OMOP and CDMConnector",
    "section": "Your turn",
    "text": "Your turn\nUsing a cdm reference you have connected to:\n\nWhat is the vocabulary version of the cdm?\nHow many concepts are in your concept table? How many of these are standard concepts?\nWhat domains are available? Which domains would you use if you were defining a cohort of people with asthma?"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#drug-ingredients-codelist",
    "href": "Presentations/CDMConnector/CDMConnector.html#drug-ingredients-codelist",
    "title": "OMOP and CDMConnector",
    "section": "Drug ingredients codelist",
    "text": "Drug ingredients codelist\n\ningredients &lt;- getDrugIngredientCodes(cdm = cdm, nameStyle = \"{concept_name}\")\ningredients\n\n\n- acetaminophen (7 codes)\n- albuterol (2 codes)\n- alendronate (2 codes)\n- alfentanil (1 codes)\n- alteplase (2 codes)\n- amiodarone (2 codes)\nalong with 85 more codelists\n\n\n\n\ningredients$warfarin\n\n[1]  1310149 40163554\n\n\n\n\n\ncdm$concept |&gt; \n  filter(concept_id %in% c(1310149, 40163554))\n\n# Source:   SQL [?? x 10]\n# Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp66AlnV/file2565781347ba.duckdb]\n  concept_id concept_name               domain_id vocabulary_id concept_class_id\n       &lt;int&gt; &lt;chr&gt;                      &lt;chr&gt;     &lt;chr&gt;         &lt;chr&gt;           \n1    1310149 Warfarin                   Drug      RxNorm        Ingredient      \n2   40163554 Warfarin Sodium 5 MG Oral… Drug      RxNorm        Clinical Drug   \n# ℹ 5 more variables: standard_concept &lt;chr&gt;, concept_code &lt;chr&gt;,\n#   valid_start_date &lt;date&gt;, valid_end_date &lt;date&gt;, invalid_reason &lt;chr&gt;"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#drug-ingredients-codelist-1",
    "href": "Presentations/CDMConnector/CDMConnector.html#drug-ingredients-codelist-1",
    "title": "OMOP and CDMConnector",
    "section": "Drug ingredients codelist",
    "text": "Drug ingredients codelist\n\ningredients &lt;- getDrugIngredientCodes(cdm = cdm, name = \"warfarin\", nameStyle = \"{concept_name}\")\n\n\n\nstratifyByDoseUnit(ingredients, cdm)\n\n\n- warfarin_unkown_dose_unit (2 codes)\n\n\n\n\n\nstratifyByRouteCategory(ingredients, cdm)\n\n\n- warfarin_unclassified_route (2 codes)"
  },
  {
    "objectID": "Presentations/CDMConnector/CDMConnector.html#your-turn-2",
    "href": "Presentations/CDMConnector/CDMConnector.html#your-turn-2",
    "title": "OMOP and CDMConnector",
    "section": "Your turn",
    "text": "Your turn\nUsing Eunomia data:\n\nGet codes for memantine using getDrugIngredientCodes\nStratify your memantine codes by their route"
  }
]